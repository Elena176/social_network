{"version":3,"sources":["api/api.tsx","redux/auth-reducer.ts","assets/images/preloader.gif","components/common/Preloader/Preloader.tsx","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","redux/profile-reducer.ts","redux/dialogs-reducer.ts","components/Users/users.module.css","components/Navbar/Navbar.module.css","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/Settings/Settings.tsx","redux/users-reducer.ts","components/common/Paginator/Paginator.tsx","components/Users/User.tsx","assets/images/user.png","components/Users/UsersFunctionComponent.tsx","redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","redux/sidebar-reducer.ts","redux/app-reducer.ts","redux/redux-store.ts","hoc/withSuspense.tsx","App.tsx","index.tsx"],"names":["instance","axios","create","withCredentials","baseURL","headers","authAPI","me","get","login","email","password","rememberMe","post","logout","delete","usersAPI","requestUsers","currentPage","pageSize","then","response","data","follow","userId","unfollow","profileAPI","getProfile","getStatus","updateStatus","status","put","SET_USER_DATA","SET_ERROR_MESSAGE","initialState","id","isAuth","error","setAuthUserData","type","payload","getAuthUserData","dispatch","a","resultCode","logIn","message","messages","length","logOut","authReducer","state","action","Preloader","props","src","preloader","alt","module","exports","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likeValue","profile","addPostActionCreator","newPostText","setStatus","getUserStatus","updateUserStatus","profileReducer","newPost","filter","p","postId","dialogs","name","sendMessageAC","newMessageBody","dialogsReducer","stateCopy","body","push","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","active","Settings","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setUsers","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","map","u","followed","Paginator","totalItemsCount","onPageChanged","pagesCount","pages","i","portionCount","Math","ceil","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","cn","selectedPage","pageNumber","User","user","unFollow","photos","small","userPhoto","disabled","some","UsersFunctionComponent","getUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","getUsersThunkCreator","React","Component","compose","connect","setTotalUsersCount","page","items","bind","Header","header","loginBlock","HeaderContainer","auth","sidebarReducer","INITIALIZED_SUCCESS","initialized","appReducer","rootReducer","combineReducers","profilePage","dialogsPage","sidebar","app","store","createStore","applyMiddleware","thunk","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","Login","News","Music","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.f3b1fdbf.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport {\r\n    DataLoginPropsType,\r\n    DataUsersPropsType,\r\n    FollowUserPropsType,\r\n    ProfileUserType, StatusPropsType,\r\n} from '../redux/Types';\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n    'API-KEY':'8c5dd338-08f2-464e-ab28-c05ffc72a5ec'\r\n},\r\n});\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get<DataLoginPropsType>(`auth/me`);\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean) {\r\n        return instance.post<any>(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete<any>(`auth/login`);\r\n    },\r\n}\r\n\r\nexport const usersAPI = {\r\n    requestUsers(currentPage: number, pageSize: number) {\r\n        return instance.get<DataUsersPropsType>(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data);\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<FollowUserPropsType>(`follow/${userId}`);\r\n    },\r\n    unfollow(userId: number) {\r\n        return  instance.delete<FollowUserPropsType> (`follow/${userId}`);\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId: string) {\r\n        return  instance.get<ProfileUserType>( `profile/` + userId).then(response => response.data);\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get<string>(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put<StatusPropsType>(`profile/status`, {status: status});\r\n    },\r\n};","import {authAPI} from '../api/api';\r\nimport {ActionTypes} from './Types';\r\nimport {ThunkDispatch} from 'redux-thunk';\r\nimport {AppStateType} from './redux-store';\r\n\r\nconst SET_USER_DATA = 'auth/SET-USER-DATA'\r\nconst SET_ERROR_MESSAGE = 'auth/SET_ERROR_MESSAGE'\r\nexport type InitialStateDataType = {\r\n  id: null | number\r\n  login: null | string\r\n  email: null | string\r\n  isAuth: boolean\r\n  error: null | string\r\n}\r\n\r\nlet initialState: InitialStateDataType = {\r\n  id: null,\r\n  login: null,\r\n  email: null,\r\n  isAuth: false,\r\n  error: null\r\n}\r\n//{login, email, id}\r\n\r\nconst authReducer = (state: InitialStateDataType = initialState, action: ActionTypes): InitialStateDataType => {\r\n\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n        //isAuth: true\r\n      }\r\n    case SET_ERROR_MESSAGE:\r\n      return {\r\n        ...state,\r\n        error: action.error\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (id: number | null, login: string | null, email: string | null, isAuth: boolean) => ({\r\n  type: SET_USER_DATA,\r\n  payload: {id, login, email, isAuth}\r\n} as const)\r\n\r\nexport const setErrorMessage = (error: string | null) => ({type: SET_ERROR_MESSAGE, error} as const)\r\n\r\nexport const getAuthUserData = () => async (dispatch: ThunkDispatch<AppStateType, undefined, ActionTypes>) => {\r\n  let response = await authAPI.me();\r\n  if (response.data.resultCode === 0) {                     //проверка залогинен пользователь или нет\r\n    let {id, login, email} = response.data.data\r\n    dispatch(setAuthUserData(id, login, email, true));\r\n  }\r\n}\r\n\r\nexport const logIn = (email: string, password: string, rememberMe: boolean) => async (dispatch: ThunkDispatch<AppStateType, undefined, ActionTypes>) => {\r\n  let response = await authAPI.login(email, password, rememberMe);\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(getAuthUserData())\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : 'some error';\r\n    dispatch(setErrorMessage(message));\r\n  }\r\n}\r\n\r\nexport const logOut = () => async (dispatch: ThunkDispatch<AppStateType, undefined, ActionTypes>) => {\r\n  let response = await authAPI.logout();\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n}\r\n\r\nexport default authReducer;","export default __webpack_public_path__ + \"static/media/preloader.c43aed74.gif\";","import React from 'react';\r\nimport preloader from '../../../assets/images/preloader.gif';\r\n\r\n\r\nexport const Preloader = (props: any) => {\r\n    return <img src={preloader} alt={''} />\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__26Swy\",\"pageNumber\":\"Paginator_pageNumber__Mx_lK\",\"selectedPage\":\"Paginator_selectedPage__173R4\",\"nav\":\"Paginator_nav__3nAyh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2uI7h\",\"loginBlock\":\"Header_loginBlock__zgP3h\"};","import {profileAPI} from '../api/api';\r\nimport {Dispatch} from 'redux';\r\nimport {ActionTypes, ProfileUserType} from './Types';\r\n\r\nconst ADD_POST = 'profile/ADD-POST'\r\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE'\r\nconst SET_STATUS = 'profile/SET-STATUS'\r\nconst DELETE_POST = 'profile/DELETE-POST'\r\nexport type PostType = {\r\n  id: number\r\n  message: string\r\n  likeValue: number\r\n}\r\n\r\nexport type InitialProfileStateType = {\r\n  posts: Array<PostType>\r\n  profile: ProfileUserType\r\n  status: string\r\n}\r\n\r\n\r\nlet initialState: InitialProfileStateType = {\r\n  posts: [\r\n    {id: 1, message: 'Hi, how are you?', likeValue: 15},\r\n    {id: 2, message: 'It\\'s my first post.', likeValue: 10},\r\n    {id: 3, message: 'Where are you?', likeValue: 10},\r\n    {id: 4, message: 'Hi!', likeValue: 50}\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n}\r\n\r\nconst profileReducer = (state: InitialProfileStateType = initialState, action: ActionTypes): InitialProfileStateType => {\r\n\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      const newPost: PostType = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likeValue: 0\r\n      }\r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, newPost]\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(p => p.id !== action.postId)\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n\r\nexport const addPostActionCreator = (newPostText: string) => ({type: ADD_POST, newPostText} as const)\r\nexport const setUserProfile = (profile: ProfileUserType) => ({type: SET_USER_PROFILE, profile} as const)\r\nexport const setStatus = (status: string) => ({type: SET_STATUS, status} as const)\r\nexport const deletePostAC = (postId: number) => ({type: DELETE_POST, postId} as const);\r\n\r\n//запрос на получение профайла user\r\nexport const getProfile = (userId: string) => async (dispatch: Dispatch<ActionTypes>) => {\r\n  const data = await profileAPI.getProfile(userId)\r\n  dispatch(setUserProfile(data))\r\n}\r\n//запрос на получение статуса user\r\nexport const getUserStatus = (userId: string) => async (dispatch: Dispatch<ActionTypes>) => {\r\n  const response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data))\r\n};\r\n//запрос на получение статуса user\r\nexport const updateUserStatus = (status: string) => async (dispatch: Dispatch<ActionTypes>) => {\r\n  const response = await profileAPI.updateStatus(status)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n  }\r\n};\r\nexport default profileReducer;","import {ActionTypes} from './Types';\r\n\r\n\r\ntype DialogType = {\r\n    id: number,\r\n    name: string\r\n}\r\n\r\ntype MessageType = {\r\n    id: number,\r\n    message: string\r\n}\r\nexport type InitialDialogStateType = {\r\n    dialogs: Array<DialogType>\r\n    messages: Array<MessageType>\r\n}\r\n\r\nlet initialState: InitialDialogStateType = {\r\n    dialogs: [\r\n        {id: 1, name: 'Elena'},\r\n        {id: 2, name: 'Denis'},\r\n        {id: 3, name: 'Anastasia'},\r\n        {id: 4, name: 'Danya'},\r\n        {id: 5, name: 'Sveta'},\r\n        {id: 6, name: 'Nikolay'},\r\n        {id: 7, name: 'Natalia'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi!'},\r\n        {id: 2, message: 'How are you?'},\r\n        {id: 3, message: 'Hi!'},\r\n        {id: 4, message: 'Hi!'},\r\n        {id: 5, message: 'Hi!'},\r\n        {id: 6, message: 'Hi!'},\r\n        {id: 7, message: 'Hi!'}\r\n    ],\r\n}\r\n\r\n\r\nconst dialogsReducer = (state: InitialDialogStateType = initialState, action: ActionTypes): InitialDialogStateType => {\r\n    let stateCopy = {\r\n        ...state,\r\n        //messages: [...state.messages];\r\n    };\r\n    switch (action.type) {\r\n        case 'SEND-MESSAGE':\r\n            const body = action.newMessageBody;\r\n            stateCopy.messages.push({id: 8, message: body});\r\n            return stateCopy;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string) => ({type: 'SEND-MESSAGE', newMessageBody}) as const\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2qpgP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3_6T9\",\"item\":\"Navbar_item__1jHsz\",\"activeLink\":\"Navbar_activeLink__3ipyz\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\nfunction Navbar () {\r\n    return (\r\n        <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={`${s.item} ${s.active}`}>\r\n            <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n    )\r\n}\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Settings;","import {usersAPI} from '../api/api';\r\nimport {ActionTypes, UserType} from './Types';\r\nimport {Dispatch} from 'redux';\r\n\r\nconst FOLLOW = 'users/FOLLOW';\r\nconst UNFOLLOW = 'users/UNFOLLOW';\r\nconst SET_USERS = 'users/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'users/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'users/SET-TOTAL-USERS-COUNT';\r\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE-IS-FOLLOWING-PROGRESS';\r\n\r\nexport type InitialStateUsersType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: number[]\r\n}\r\n\r\nlet initialState: InitialStateUsersType = {\r\n  users: [],\r\n  pageSize: 5,\r\n  totalUsersCount: 150,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state: InitialStateUsersType = initialState, action: ActionTypes): InitialStateUsersType => {\r\n\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: true}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(u => {\r\n          if (u.id === action.userId) {\r\n            return {...u, followed: false}\r\n          }\r\n          return u;\r\n        })\r\n      }\r\n\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: action.users\r\n      }\r\n\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage\r\n      }\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.totalUsersCount\r\n      }\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n\r\n      }\r\n    default:\r\n      return state;\r\n\r\n  }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId}) as const\r\n\r\nexport const unfollowSuccess = (userId: number) => ({type: UNFOLLOW, userId}) as const\r\n\r\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users}) as const    //добавление user\r\n\r\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage}) as const\r\n\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalUsersCount}) as const\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching}) as const\r\n\r\nexport const toggleIsFollowingProgress = (isFetching: boolean, userId: number) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId\r\n}) as const\r\n\r\nexport const getUsersThunkCreator = (page: number, pageSize: number) => {\r\n  return async (dispatch: Dispatch<ActionTypes>) => {\r\n    dispatch(toggleIsFetching(true))\r\n    dispatch(setCurrentPage(page))\r\n    const data = await usersAPI.requestUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n    //dispatch(setTotalUsersCount(response.data.totalCount)) //обновляем количество totalUsers\r\n  }\r\n}\r\n\r\nexport const onPageChanged = (pageNumber: number, pageSize: number) => {\r\n  return async (dispatch: Dispatch<ActionTypes>) => {\r\n    dispatch(setCurrentPage(pageNumber));\r\n    dispatch(toggleIsFetching(true));\r\n    let data = await usersAPI.requestUsers(pageNumber, pageSize)\r\n    dispatch(toggleIsFetching(false))\r\n    dispatch(setUsers(data.items))\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch: any, userId: number, apiMethod: any, actionCreator: any) => {\r\n  dispatch(toggleIsFollowingProgress(true, userId))\r\n  const response = await apiMethod(userId)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId))\r\n  }\r\n  dispatch(toggleIsFollowingProgress(false, userId))\r\n}\r\nexport const follow = (userId: number) => {\r\n  return async (dispatch: Dispatch<ActionTypes>) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(userId), followSuccess)\r\n  }\r\n}\r\n\r\nexport const unFollow = (userId: number) => {\r\n  return async (dispatch: Dispatch<ActionTypes>) => {\r\n    followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(userId), unfollowSuccess)\r\n  }\r\n}\r\n\r\nexport default usersReducer;","import s from './Paginator.module.css';\r\nimport React, {useState} from 'react';\r\nimport cn from 'classnames'\r\n\r\ntype PaginatorPropsType = {\r\n  totalItemsCount: number\r\n  pageSize: number\r\n  currentPage: number\r\n  onPageChanged: (p: number) => void\r\n}\r\n\r\nexport let Paginator: React.FC<PaginatorPropsType> = ({totalItemsCount, currentPage, pageSize, onPageChanged}) => {\r\n  let portionSize = 10\r\n  let pagesCount = totalItemsCount / pageSize\r\n\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount/portionSize)\r\n  let [portionNumber, setPortionNumber] = useState(1)\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n  let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n  return <div className={s.paginator}>\r\n    <div>\r\n      {portionNumber > 1 &&\r\n        <button className={s.nav} onClick={() => setPortionNumber(portionNumber - 1)}> {'<'} </button>}\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n        return <span className={cn({[s.selectedPage]: currentPage === p}, s.pageNumber)}\r\n                     key={p}\r\n                     onClick={() => {\r\n                       onPageChanged(p)\r\n                     }}\r\n        >{p}</span>\r\n      })}\r\n      {portionCount > portionNumber &&\r\n      <button className={s.nav} onClick={() => setPortionNumber(portionNumber + 1)}>{\">\"}</button>}\r\n    </div>\r\n  </div>\r\n}","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport userPhoto from '../../assets/images/user.png';\r\nimport s from './users.module.css';\r\nimport {UserType} from '../../redux/Types';\r\n\r\ntype UserPropsType = {\r\n  user: UserType\r\n  followingInProgress: number[]\r\n  unFollow: (userId: number) => void\r\n  follow: (userId: number) => void\r\n}\r\nexport let User: React.FC<UserPropsType> = ({user, followingInProgress, unFollow, follow}) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n    <span>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n    <img src={user.photos.small != null ? user.photos.small : userPhoto} alt={''}\r\n         className={s.userPhoto}/>\r\n  </NavLink>\r\n  </div>\r\n  <div>\r\n  {user.followed\r\n    ? <button disabled={followingInProgress.some((id: number) => id === user.id)}\r\n              onClick={() => {\r\n                unFollow(user.id)\r\n              }}>Unfollow</button>\r\n    : <button disabled={followingInProgress.some((id: number) => id === user.id)}\r\n              onClick={() => {\r\n                follow(user.id)\r\n              }}>Follow</button>\r\n  }\r\n    </div>\r\n    </span>\r\n        <span>\r\n    <span>\r\n      <div>{user.name}</div>\r\n    <div>{user.status}</div>\r\n    </span>\r\n          {/* <span>\r\n                        <div>{'user.location.city'}</div>\r\n                        <div>{'user.location.country'}</div>\r\n                    </span>*/}\r\n    </span>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport {UserType} from '../../redux/Types';\r\nimport {Paginator} from '../common/Paginator/Paginator';\r\nimport {User} from './User';\r\n\r\ntype UsersFunctionComponentPropsType = {\r\n  users: Array<UserType>\r\n  totalUsersCount: number\r\n  pageSize: number\r\n  currentPage: number\r\n  onPageChanged: (p: number) => void\r\n  follow: (userId: number) => void\r\n  unFollow: (userId: number) => void\r\n  followingInProgress: number[]\r\n}\r\n\r\nexport let UsersFunctionComponent: React.FC<UsersFunctionComponentPropsType> = ({currentPage,\r\n                                                                                  onPageChanged,\r\n                                                                                  pageSize,\r\n                                                                                  totalUsersCount,\r\n                                                                                  users,\r\n                                                                                  followingInProgress,\r\n                                                                                  unFollow,\r\n                                                                                  follow\r\n                                                                                }) => {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <Paginator currentPage={currentPage} onPageChanged={onPageChanged} pageSize={pageSize}\r\n                   totalItemsCount={totalUsersCount}/>\r\n      </div>\r\n      <div>\r\n      {\r\n        users.map(u => <User key={u.id}\r\n                             user={u}\r\n                             follow={follow}\r\n                             unFollow={unFollow} followingInProgress={followingInProgress}\r\n          />\r\n        )\r\n      }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import {AppStateType} from './redux-store';\r\nimport {createSelector} from 'reselect';\r\n\r\nconst getUsersSelector = (state: AppStateType) => {\r\n  return state.usersPage.users;\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter(u => true)\r\n})\r\nexport const getPageSize = (state: AppStateType) => {\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n  return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n  return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n  return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {\r\n  follow,\r\n  followSuccess, getUsersThunkCreator, onPageChanged,\r\n  setCurrentPage,\r\n  setTotalUsersCount,\r\n  setUsers, toggleIsFetching, toggleIsFollowingProgress, unFollow,\r\n  unfollowSuccess,\r\n} from '../../redux/users-reducer';\r\nimport {UsersFunctionComponent} from './UsersFunctionComponent';\r\nimport {Preloader} from '../common/Preloader/Preloader';\r\nimport {compose} from 'redux';\r\nimport {UserType} from '../../redux/Types';\r\nimport {\r\n  getCurrentPage,\r\n  getFollowingInProgress,\r\n  getIsFetching,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getUsers\r\n} from '../../redux/users-selectors';\r\n\r\nclass UsersContainer extends React.Component <UsersPropsType> {\r\n  componentDidMount() {\r\n    const {currentPage, pageSize} = this.props\r\n    this.props.getUsersThunkCreator(currentPage, pageSize);\r\n  };\r\n\r\n  onPageChanged = (pageNumber: number) => {\r\n    const {pageSize} = this.props\r\n    this.props.onPageChanged(pageNumber, pageSize)\r\n  }\r\n\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader/> : null}\r\n      <UsersFunctionComponent users={this.props.users}\r\n                              totalUsersCount={this.props.totalUsersCount}\r\n                              pageSize={this.props.pageSize}\r\n                              currentPage={this.props.currentPage}\r\n                              onPageChanged={this.onPageChanged}\r\n                              follow={this.props.follow}\r\n                              unFollow={this.props.unFollow}\r\n                              followingInProgress={this.props.followingInProgress}\r\n      />\r\n    </>\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n  connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(mapStateToProps, {\r\n    followSuccess,\r\n    unfollowSuccess,\r\n    setUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    toggleIsFetching,\r\n    toggleIsFollowingProgress,\r\n    getUsersThunkCreator,\r\n    follow,\r\n    unFollow,\r\n    onPageChanged,\r\n  }),\r\n)(UsersContainer);\r\n\r\n//types\r\ntype MapStatePropsType = {\r\n  users: Array<UserType>\r\n  pageSize: number\r\n  totalUsersCount: number\r\n  currentPage: number\r\n  isFetching: boolean\r\n  followingInProgress: number[]\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n  followSuccess: (userId: number) => void\r\n  unfollowSuccess: (userId: number) => void\r\n  follow: (userId: number) => void\r\n  unFollow: (userId: number) => void\r\n  setUsers: (users: Array<UserType>) => void\r\n  setCurrentPage: (currentPage: number) => void\r\n  setTotalUsersCount: (totalCount: number) => void\r\n  toggleIsFetching: (isFetching: boolean) => void\r\n  toggleIsFollowingProgress: (isFetching: boolean, userId: number) => void\r\n  getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n  onPageChanged: (pageNumber: number, pageSize: number) => void\r\n}\r\n\r\nexport type UsersPropsType = MapStatePropsType & MapDispatchPropsType;\r\n\r\n\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Header.module.css';\r\n\r\ntype HeaderTypeProps = {\r\n    isAuth: boolean\r\n    login: string | null\r\n    logOut: () => void\r\n}\r\n\r\nfunction Header (props: HeaderTypeProps) {\r\n\r\n    return (\r\n        <header className={s.header}>\r\n        <img\r\n            src={'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRigioKILIrp60PRrJEHf8AjRJg5w3EQZ1z2Q&usqp=CAU'} alt={''}/>\r\n             {/*src={'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuQIZTse4n_WasuG6wOjQLK5z3w2aFqDqDfQ&usqp=CAU'}/>*/}\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.logOut}>LOG OUT</button></div>\r\n                :<NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n    </header>\r\n    )\r\n}\r\nexport default Header;","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport {logOut} from '../../redux/auth-reducer';\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    logOut: () => void\r\n}\r\n\r\ntype HeaderContainerPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass HeaderContainer extends React.Component <HeaderContainerPropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n   isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {logOut})(HeaderContainer);","\r\nlet initialState = {};\r\n\r\nconst sidebarReducer = (state: any = initialState, action: any) => {\r\n    return state;\r\n}\r\nexport default sidebarReducer;","import {ActionTypes} from './Types';\r\nimport {ThunkDispatch} from 'redux-thunk';\r\nimport {AppStateType} from './redux-store';\r\nimport {getAuthUserData} from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'APP/INITIALIZED_SUCCESS'\r\nexport type InitialStateAppType = {\r\n  initialized: boolean\r\n}\r\n\r\nlet initialState: InitialStateAppType = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state: InitialStateAppType = initialState, action: ActionTypes): InitialStateAppType => {\r\n\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS} as const)\r\n\r\nexport const initializeApp = () => (dispatch: ThunkDispatch<AppStateType, undefined, ActionTypes>) => {\r\n  let promise = dispatch(getAuthUserData());\r\n  Promise.all([promise])\r\n    .then(() => {\r\n      dispatch(initializedSuccess())\r\n    })\r\n}\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunk from 'redux-thunk';\r\nimport appReducer from './app-reducer';\r\n\r\nlet rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n});\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport const  store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\n","import React, {ComponentType, Suspense} from 'react';\r\nimport {Preloader} from '../components/common/Preloader/Preloader';\r\n\r\nexport function withSuspense <T>(Component: ComponentType<T>) {\r\n      return (props: any) => {\r\n        return <Suspense fallback={<Preloader/>}>\r\n        <Component {...props}/>\r\n      </Suspense>\r\n}}","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport Settings from './components/Settings/Settings';\nimport UsersContainer from './components/Users/UsersContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport {connect, Provider} from 'react-redux';\nimport {AppStateType, store} from './redux/redux-store';\nimport {withRouter} from 'react-router';\nimport {compose} from 'redux';\nimport {initializeApp} from './redux/app-reducer';\nimport {Preloader} from './components/common/Preloader/Preloader';\nimport {withSuspense} from './hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\nconst Login = React.lazy(() => import('./Login/Login'))\nconst News = React.lazy(() => import('./components/News/News'))\nconst Music = React.lazy(() => import('./components/Music/Music'))\n\n\nclass App extends React.Component<AppPropsType> {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader/>\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer/>\n        <Navbar/>\n        <div className=\"app-wrapper-content\">\n          <Route path=\"/profile/:userId?\"\n                 render={withSuspense(ProfileContainer)}/>\n          <Route path=\"/dialogs\"\n                 render={withSuspense(DialogsContainer)}/>\n          <Route path=\"/users\" render={() => <UsersContainer/>}/>\n          <Route path=\"/news\" render={withSuspense(News)}/>\n          <Route path=\"/music\" render={withSuspense(Music)}/>\n          <Route path=\"/settings\" render={() => <Settings/>}/>\n          <Route path=\"/login\" render={withSuspense(Login)}/>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state: AppStateType) => {\n  return {\n    initialized: state.app.initialized,\n  }\n}\n\nconst AppContainer = compose<React.ComponentType>(\n  withRouter,\n  connect<MapStatePropsType, MapDispatchToPropsType, {}, AppStateType>(mapStateToProps, {initializeApp}))(App);\n\n// @ts-ignore\nconst MainApp = () => {\n  return (\n    <>\n      {// @ts-ignore\n      <BrowserRouter>\n        {// @ts-ignore\n        <Provider store={store}>\n         <AppContainer />\n        </Provider>}\n      </BrowserRouter>}\n    </>\n  )\n}\n\n\nexport default MainApp;\n\n//types\ntype MapStatePropsType = {\n  initialized: boolean\n}\n\ntype MapDispatchToPropsType = {\n  initializeApp: () => void\n}\ntype AppPropsType = MapStatePropsType & MapDispatchToPropsType;","import reportWebVitals from './reportWebVitals';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\nReactDOM.render(\n  <MainApp/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}